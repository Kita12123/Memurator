{% extends "base.html" %}

{% block title %}営業フォーム{% endblock %}

{% block head %}

<link rel="stylesheet" href="{{ url_for('search.static', filename='css/style.css') }}" />
<link rel="stylesheet" href="{{ url_for('search.static', filename='sass/style.scss.css') }}" />

{% endblock %}

{% block content %}

<h2>
  <a class="btn" onclick="toggleID('#main-form')">
    <img width="30px" src="{{ url_for('search.static', filename='icon/edit.svg') }}" />
  </a>
  {{ tablename }}
  <a class="btn" onclick="clearClassValue('form-control')">
    <img width="30px" src="{{ url_for('search.static', filename='icon/clear.svg') }}" />
  </a>
</h2>
<div id="main-form">
  <form action="{{ url_for('search.sales') }}" method="POST" novalidate="novalidate">
    {{ form.csrf_token }}
      <dl class="row
        row-cols-xl-5 row-cols-lg-4 row-cols-md-3 row-cols-sm-2 row-cols-1"
      >
        {% from "_formhelpers.html" import render_field %}
        {{ render_field(form.tablename) }}
        {{ render_field(form.first_date) }}
        {{ render_field(form.last_date) }}
        {{ render_field(form.customer_code, master="得意先コードマスタ") }}
        {{ render_field(form.buyer_code, master="送荷先コードマスタ") }}
        {{ render_field(form.destination_code, master="送荷先コードマスタ") }}
        {{ render_field(form.goods_sales_code, master="品目コードマスタ（営業）") }}
        {{ render_field(form.goods_sales_flg) }}
        {{ render_field(form.shipping_slip_number) }}
    </dl>
    <div class="row justify-content-around">
      {{ form.submit(class_="col-1 btn btn-primary") }}
    </div>
  </form>
</div><!-- #main-form -->
<h2>
  <a class="btn" onclick="toggleID('#main-table')">
    <img width="30px" src="{{ url_for('search.static', filename='icon/documents.svg') }}" />
  </a>
  明細データ
</h2>
<table id="main-table" class="talbe table-striped table-bordered table-hover">
  <thead class="table-dark">
    <tr>
      <th>伝票日付</th>
      <th>伝票区分名</th>
      <th>委託区分名</th>
      <th>扱い区分名</th>
      <th>運送会社名</th>
      <th>担当者名</th>
      <th>得意先コード</th>
      <th>得意先カナ</th>
      <th>雑コード</th>
      <th>雑カナ</th>
      <th>送荷先コード</th>
      <th>送荷先カナ</th>
      <th>製品部品コード</th>
      <th>製品部品カナ</th>
      <th>級区分</th>
      <th>数量</th>
      <th>単価</th>
      <th>金額</th>
      <th>出荷伝票番号</th>
      <th>備考</th>
    </tr>
  </thead>
  <tbody>
    {% for list in df_lists %}
    <tr>
      {% for d in list %}
      <td>{{ d }}</td>
      {% endfor %}
    </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}

{% block script %}

<script type="text/javascript" src="{{ url_for('search.static', filename='js/scripts.js') }}"></script>

{% endblock %}
